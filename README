Robotics program for FRC 2015 challenge

Ratchet Rockers

Connor Monahan

Hunter's Notes of Wisdom

You need to compare the area of the contours vs the bounding rectangle.
If it is not close to one, then you are looking at it at an angle 
(That is if there is something on top of it.)

You need to be developing with an image of a yellow tote with nothing on top of it. 
The characteristics of that contour vs the one you're using are too different for an 
algorithm to work in both cases. 

You also need to decide if you want the camera to be < height of tote. This will also 
change the algorithm dramatically. 

There are two different things you should be sending to savanah:

1. X rotation to the center of the contour. I put Zac in charge of figuring out how to do this. 
It is in AllianceWall if you guys cannot figure it out, simply search for how I populate Xrot,
but try not to cheat, it's a good task to learn from. Don't spend more than a day trying to figure 
it out, however. There are more important things you could be doing with your time. 

2. Rotation of the box. When you are looking at the box perpendicular to the short side, it 
should be 0 degrees. When you are looking at the long side, it should be 90 degrees. I do not 
know how a way to explicitly return the  degree of offset, but I think if we simply tell savanah 
which way to go with some degree of accuracry we should be good. It should not, however, be a bool.
PIDs do not work with bools. You could maybe just return the ratio of the left side vs the bottom. 
When you are lined up with the short side, it is some number x than is about 1. When you are lined 
up with the long side, it is some number, n. As you shift towards the short side, offset -> x. That
is, the offset approaches the value of x. I think this should work whether the camera is above or 
below the top of the tote. 

A step you need to also do is figure out if a contour you are looking at is of 2 or more totes stacked. 
This is a simple look at the ratio between bound.height as bound,width. It might become problematic if 
you are looking at just the long side. I don't know for sure though. 

Lastly, you need to work on using depth to track gray totes. By track I mean do 1 and 2 for the gray totes.
The algorithm will be exactly the same excluding how you set up the input image of findcontours. This should 
take maybe an hour to set up because all the code is already written for you, it's just a matter of finding it. 

If Darrel or someone asks why we are using the "heavy" kinect and not the asus xtion, tell them of the problems
we have had with it; its inconsistency to work. I personally think we should sacrifice a little weight for 
consistency. 
